{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block page_title %}ç‡Ÿæ¥­é¡{% endblock %}
{% block content %}
<h2>ğŸ“ˆ ç‡Ÿæ¥­é¡</h2>

<section class="panel" style="margin-top:10px">
  <form class="row" method="get" action="/ui">
    <label class="pill">æ¨¡å¼</label>
    <select name="mode" onchange="this.form.submit()">
      <option value="day"   {% if mode=='day' %}selected{% endif %}>ç•¶æ—¥</option>
      <option value="month" {% if mode=='month' %}selected{% endif %}>ç•¶æœˆ</option>
      <option value="year"  {% if mode=='year' %}selected{% endif %}>ç•¶å¹´</option>
    </select>
    <label class="pill">æ—¥æœŸ</label>
    <input type="date" name="d" value="{{ d }}">
    <button class="btn">å¥—ç”¨</button>
    <div class="spacer"></div>
    <span class="muted">æœŸé–“ï¼š{{ period_label }}</span>
  </form>
</section>

<section class="kpi">
  <div class="kpi-card">
    <div class="kpi-title">ğŸŒ… æ—©ç­</div>
    <div class="kpi-value">NT$ {{ '{:,.0f}'.format(morning|float) }}</div>
  </div>
  <div class="kpi-card">
    <div class="kpi-title">ğŸŒ™ æ™šç­</div>
    <div class="kpi-value">NT$ {{ '{:,.0f}'.format(evening|float) }}</div>
  </div>
  <div class="kpi-card">
    <div class="kpi-title">ğŸ’¸ æ”¯å‡º</div>
    <div class="kpi-value">NT$ {{ '{:,.0f}'.format(expense|float) }}</div>
  </div>
  <div class="kpi-card">
    <div class="kpi-title">ğŸ“Š ç¸½é¡</div>
    <div class="kpi-value">NT$ {{ '{:,.0f}'.format(total|float) }}</div>
    <div class="kpi-sub">æ‰£æ”¯å‡ºå¾Œ NT$ {{ '{:,.0f}'.format(net|float) }}</div>
  </div>
</section>
{% endblock %}
