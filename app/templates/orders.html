{% extends "base.html" %}
{% block title %}è¨‚å–®{% endblock %}
{% block content %}

<!-- æœå°‹æ¢ï¼ˆæ©«å‘ï¼‰ -->
<form class="card toolbar" method="get" action="/orders">
  <label class="label">æœå°‹</label>
  <input class="input" type="text" name="q" value="{{ q }}" placeholder="æœå°‹å–®è™Ÿæˆ–é‡‘é¡ï¼ˆæ¸…ç©º=å…¨éƒ¨ï¼‰">
  <label class="label">èµ·</label>
  <input class="input" type="date" name="from_" value="{{ from_ }}">
  <label class="label">è¿„</label>
  <input class="input" type="date" name="to" value="{{ to }}">
  <button class="btn pill primary" type="submit">ğŸ” æœå°‹</button>
</form>

<!-- æ–°å¢ï¼ˆæ©«åˆ—ï¼‰ -->
<form class="card toolbar order-create" method="post" action="/orders/create" id="form-create">
  <div class="row"><label>æ—¥æœŸ</label><input type="date" name="odt" value="{{ today }}"></div>
  <div class="row"><label>ç­åˆ¥</label>
    <select name="shift" class="shift-select"><option>æ—©ç­</option><option>æ™šç­</option></select>
  </div>
  <div class="row"><label>å–®è™Ÿ</label><input id="order_no_input" type="text" name="order_no" placeholder="å¦‚ 10037 æˆ– 37" required></div>
  <div class="row"><label>é‡‘é¡</label><input type="number" name="amount" step="1" placeholder="å¦‚ 2568" required></div>
  <button class="btn primary" type="submit">æ–°å¢</button>
</form>

<!-- åˆªé™¤é¸ä¸­ -->
<form method="post" action="/orders/delete" id="form-delete">
  <table class="table table--orders" id="orders-table">
    <thead>
      <tr>
        <th class="center sortable" data-key="shift">
          <span class="th-label">ç­åˆ¥</span>
          <span class="th-badge" title="å¯é»æ“Šæ’åºï¼å†é»ä¸€æ¬¡æ¢å¾©" aria-label="å¯é»æ“Šæ’åº">â‡…</span>
        </th>
        <th class="center sortable" data-key="order_no">
          <span class="th-label">å–®è™Ÿ</span>
          <span class="th-badge" title="å¯é»æ“Šæ’åºï¼å†é»ä¸€æ¬¡æ¢å¾©" aria-label="å¯é»æ“Šæ’åº">â‡…</span>
        </th>
        <th class="center sortable" data-key="amount">
          <span class="th-label">é‡‘é¡</span>
          <span class="th-badge" title="å¯é»æ“Šæ’åºï¼å†é»ä¸€æ¬¡æ¢å¾©" aria-label="å¯é»æ“Šæ’åº">â‡…</span>
        </th>
        <th class="center sortable" data-key="odt">
          <span class="th-label">æ—¥æœŸ</span>
          <span class="th-badge" title="å¯é»æ“Šæ’åºï¼å†é»ä¸€æ¬¡æ¢å¾©" aria-label="å¯é»æ“Šæ’åº">â‡…</span>
        </th>
        <th class="center">é¸å–</th>
      </tr>
    </thead>
    <tbody id="orders-body">
      {% for o in orders %}
      <tr data-id="{{ o.id }}" data-idx="{{ o.idx }}">
        <td class="center editable" data-field="shift">{{ o.shift }}</td>
        <td class="center editable" data-field="order_no">{{ o.order_no }}</td>
        <td class="center editable" data-field="amount">{{ o.amount|money }}</td>
        <td class="center editable" data-field="odt">{{ o.odt }}</td>
        <td class="center"><input type="checkbox" name="selected" value="{{ o.id }}"></td>
      </tr>
      {% endfor %}
      {% if not orders %}<tr><td colspan="5" class="center muted">ç›®å‰æ²’æœ‰è³‡æ–™</td></tr>{% endif %}
    </tbody>
  </table>

  <div class="actionbar left">
    <button class="btn pill danger" type="submit">åˆªé™¤é¸ä¸­</button>
  </div>
</form>

{% endblock %}
