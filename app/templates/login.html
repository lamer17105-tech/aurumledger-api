{% extends "base.html" %}
{% block title %}ç™»å…¥{% endblock %}
{% block content %}

<div class="auth-only-card">
  <div class="auth-card">
    <!-- ç™»å…¥é  LOGOï¼ˆç½®ä¸­ã€é›™è¡Œï¼‰ -->
    <div style="text-align:center;margin-bottom:16px">
      <div style="font-size:22px;font-weight:900;letter-spacing:.5px;">ğŸ“Š AurumLedger ä¼æ¥­ç‰ˆ</div>
      <div style="font-size:14px;font-weight:800;color:#334155;margin-top:4px">é¤é£²ä½œå¸³ç³»çµ±</div>
    </div>

    {% if error %}
      <div class="alert error">{{ error }}</div>
    {% endif %}

    {% if first_setup %}
      <div class="alert ok">é¦–æ¬¡ä½¿ç”¨ï¼šè«‹å»ºç«‹ç®¡ç†è€…å¸³è™Ÿèˆ‡å¯†ç¢¼ã€‚</div>
    {% endif %}

    <form method="post" action="/login" style="display:flex;flex-direction:column;gap:12px">
      <input type="hidden" name="mode" value="{{ 'setup' if first_setup else 'login' }}">

      <label class="label" style="font-weight:700">å¸³è™Ÿ</label>
      <input class="input" type="text" name="username" value="{{ remembered or '' }}" placeholder="è¼¸å…¥å¸³è™Ÿ" required autofocus>

      <label class="label" style="font-weight:700">å¯†ç¢¼</label>
      <input class="input" type="password" name="password" placeholder="è¼¸å…¥å¯†ç¢¼" required>

      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-top:4px">
        <label style="display:flex;align-items:center;gap:8px;cursor:pointer">
          <input type="checkbox" name="remember" value="1" checked>
          <span>è¨˜ä½å¸³è™Ÿ</span>
        </label>
        <div class="muted" style="font-size:12px">
          {{ 'å»ºç«‹å¸³è™Ÿå¾Œå¯æ–¼å³ä¸‹è§’ã€Œå¸³è™Ÿè¨­å®šã€è®Šæ›´å¯†ç¢¼' if first_setup else '' }}
        </div>
      </div>

      <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:6px">
        <button class="btn pill primary" type="submit">{{ 'å»ºç«‹ä¸¦ç™»å…¥' if first_setup else 'ç™»å…¥' }}</button>
      </div>
    </form>
  </div>
</div>

{% endblock %}
